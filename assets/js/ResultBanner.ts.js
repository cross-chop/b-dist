import{l as s}from"./lottie.js";import{g as e}from"./index.js";import{S as o}from"./ScrollTrigger.js";e.registerPlugin(o);class i extends HTMLElement{ResultBanner;eye1el;eye2el;balloon;character;close;eye1;eye2;isClose;constructor(){super(),this.ResultBanner=this.querySelector(".ResultBanner"),this.eye1el=this.querySelector(".eye1"),this.eye2el=this.querySelector(".eye2"),this.balloon=this.querySelector(".balloon"),this.character=this.querySelector(".character"),this.close=this.querySelector(".close"),this.isClose=!1,this.init()}init(){this.eye1=s.loadAnimation({container:this.eye1el,renderer:"svg",loop:!1,autoplay:!1,path:"/assets/lottie/type-check/01_bebo_eyes_open.json"}),this.eye2=s.loadAnimation({container:this.eye2el,renderer:"svg",loop:!1,autoplay:!1,path:"/assets/lottie/type-check/03_bebo_eyes_beside.json"}),this.eye1.onComplete=async()=>{await e.delayedCall(e.utils.random(0,2),()=>{}),this.loop()},this.eye2.onComplete=async()=>{await e.delayedCall(e.utils.random(0,2),()=>{}),this.loop()},this.loop();const t=e.timeline({paused:!0}).to(this,{y:"0%",duration:1,ease:"power3.inOut"}).from(this.balloon,{scale:.5,opacity:0,duration:.3,ease:"back.out(1.7)"}).from(this.close,{scale:.5,opacity:0,duration:.3,ease:"back.out(1.7)"});o.create({trigger:".recommend",start:"top center",end:"bottom center",onEnter:()=>{this.isClose||t.play()},onEnterBack:()=>{this.isClose||t.play()},onLeave:()=>{t.reverse()},onLeaveBack:()=>{t.reverse()}}),this.close?.addEventListener("click",()=>{this.isClose=!0,t.reverse()})}loop(){e.utils.random(0,1)>.5?(e.set(this.eye1el,{opacity:0}),e.set(this.eye2el,{opacity:1}),this.eye2.goToAndPlay(0,!0)):(e.set(this.eye1el,{opacity:1}),e.set(this.eye2el,{opacity:0}),this.eye1.goToAndPlay(0,!0))}}customElements.define("result-banner",i);
