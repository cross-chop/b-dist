import{g as i}from"./index.js";class r extends HTMLElement{stars;btn;type;rating;constructor(){super(),this.type=this.getAttribute("type")||"normal",this.rating=0,this.stars=this.querySelectorAll(".stars svg"),this.initStarRating(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>{const t=this.btn.querySelector(".text");t.textContent="ご回答ありがとうございました！",i.to(this.querySelectorAll(".btn, .stars"),{opacity:.3,duration:.5,pointerEvents:"none"})})}initStarRating(){this.stars.forEach((t,e)=>{t.addEventListener("click",()=>{this.handleStarClick(e)})})}handleStarClick(t){const e=this.getActiveStarCount(),s=t+1;e===s?this.setStarRating(s-1):this.setStarRating(s)}getActiveStarCount(){let t=0;return this.stars.forEach(e=>{e.classList.contains("isActive")&&t++}),t}setStarRating(t){this.stars.forEach((e,s)=>{s<t?e.classList.add("isActive"):e.classList.remove("isActive")}),this.rating=t}}customElements.define("result-feedback",r);
